<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>amiq_eth: /home/cristian.slav/work/amiq/projects/sv/amiq_eth/sc/amiq_eth_packet_ptp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/cristian.slav/work/amiq/projects/sv/amiq_eth/sc/amiq_eth_packet_ptp.cpp</h1><a href="amiq__eth__packet__ptp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * (C) Copyright 2014 AMIQ Consulting</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00005"></a>00005 <span class="comment"> * you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment"> * You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00012"></a>00012 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment"> * limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * NAME:        amiq_eth_packet_ptp.cpp</span>
<a name="l00017"></a>00017 <span class="comment"> * PROJECT:     amiq_eth</span>
<a name="l00018"></a>00018 <span class="comment"> * Description: This file declare the Ethernet Precision Time Protocol packet.</span>
<a name="l00019"></a>00019 <span class="comment"> *******************************************************************************/</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef __AMIQ_ETH_PACKET_PTP</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="comment">//protection against multiple includes</span>
<a name="l00023"></a>00023 <span class="preprocessor">#define __AMIQ_ETH_PACKET_PTP</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="keyword">using namespace </span>std;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">//Ethernet Precision Time Protocol packet header</span>
<a name="l00028"></a><a class="code" href="classamiq__eth__packet__ptp__header.html">00028</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp__header.html">amiq_eth_packet_ptp_header</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__object.html">amiq_eth_object</a> {
<a name="l00029"></a>00029 <span class="keyword">public</span>:
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a3ed673b4781a4400bf3fa0c65a0cb6d7">00031</a>         <a class="code" href="amiq__eth__types_8cpp.html#aab37995d6465c50fd72265140440db08">amiq_eth_ptp_transport_specific</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a3ed673b4781a4400bf3fa0c65a0cb6d7">transport_specific</a>;
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">00033</a>         <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9">amiq_eth_ptp_message_type</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>;
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">00035</a>         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> *<a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a>;
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a6d5c2946688a068e73a6878edf967644">00037</a>         <a class="code" href="amiq__eth__types_8cpp.html#a9f7c461ab52ea5b854eee3bb53db892a">amiq_eth_ptp_version</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a6d5c2946688a068e73a6878edf967644">version</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a815ae17dbbf6f031982993da0e714be5">00039</a>         <a class="code" href="amiq__eth__types_8cpp.html#a9fea32b60281db26dda428ba033f0d93">amiq_eth_ptp_message_length</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a815ae17dbbf6f031982993da0e714be5">message_length</a>;
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#acd74f33993f8d252846b11407105598a">00041</a>         <a class="code" href="amiq__eth__types_8cpp.html#a139096cb6b92040d2036153fa1964e4f">amiq_eth_ptp_domain_number</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#acd74f33993f8d252846b11407105598a">domain_number</a>;
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">00043</a>         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> *<a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a>;
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a167d8513bbd0a8c00983dcc29998ebf5">00045</a>         <a class="code" href="amiq__eth__types_8cpp.html#a6ecd97cfb8d9ee3a2cfabc9e74fc7608">amiq_eth_ptp_flags</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a167d8513bbd0a8c00983dcc29998ebf5">flags</a>;
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#ac985b496e7edef0abbb81b23f5a2d585">00047</a>         <a class="code" href="amiq__eth__types_8cpp.html#a8e7986e048c50f116f0991095a86fc0f">amiq_eth_ptp_correction_field</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#ac985b496e7edef0abbb81b23f5a2d585">correction_field</a>;
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">00049</a>         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> *<a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">00051</a>         <a class="code" href="amiq__eth__types_8cpp.html#a7b096840c16198d2ce0842b243717a35">amiq_eth_ptp_source_port_identity</a> *<a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">source_port_identity</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a7a93c17fb2f7e9d104b8456678cb6085">00053</a>         <a class="code" href="amiq__eth__types_8cpp.html#aaea31f7f426979f21cdaf229cfdd46ad">amiq_eth_ptp_sequence_id</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a7a93c17fb2f7e9d104b8456678cb6085">sequence_id</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a0ac39ffa7e8fccfebafd2ed81188e3ee">00055</a>         <a class="code" href="amiq__eth__types_8cpp.html#ab23b2951ab7f4c22548f39f4c9a9e33c">amiq_eth_ptp_control_field</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a0ac39ffa7e8fccfebafd2ed81188e3ee">control_field</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a0318633469361ac605e5271d83c6b75e">00057</a>         <a class="code" href="amiq__eth__types_8cpp.html#a336894c24b80e460e8ddf8f16027504d">amiq_eth_ptp_log_message</a> <a class="code" href="classamiq__eth__packet__ptp__header.html#a0318633469361ac605e5271d83c6b75e">log_message</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059         <span class="comment">//switch to print lists</span>
<a name="l00060"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">00060</a>         <span class="keywordtype">bool</span> <a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="comment">//constructor</span>
<a name="l00063"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a4c7b83f795d49fb4ea8c4d84a9d8a5e1">00063</a>         <a class="code" href="classamiq__eth__packet__ptp__header.html#a4c7b83f795d49fb4ea8c4d84a9d8a5e1">amiq_eth_packet_ptp_header</a>() {
<a name="l00064"></a>00064                 <a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">source_port_identity</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#a7b096840c16198d2ce0842b243717a35">amiq_eth_ptp_source_port_identity</a>[<a class="code" href="amiq__eth__defines_8cpp.html#aa1b87a069ab41f7ad9bb42e005c8b4d3">AMIQ_ETH_PTP_SOURCE_PORT_IDENTITY_SIZE</a>];
<a name="l00065"></a>00065                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a8e4be2349c3f85790dda4681b79a5f94">AMIQ_ETH_PTP_RESERVED_1_WIDTH</a>];
<a name="l00066"></a>00066                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a8e4be2349c3f85790dda4681b79a5f94">AMIQ_ETH_PTP_RESERVED_1_WIDTH</a>; i++) {
<a name="l00067"></a>00067                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a>[i] = 0;
<a name="l00068"></a>00068                 }
<a name="l00069"></a>00069                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a7f28f65c97e4a94a90b73354d9d24101">AMIQ_ETH_PTP_RESERVED_2_WIDTH</a>];
<a name="l00070"></a>00070                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a7f28f65c97e4a94a90b73354d9d24101">AMIQ_ETH_PTP_RESERVED_2_WIDTH</a>; i++) {
<a name="l00071"></a>00071                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a>[i] = 0;
<a name="l00072"></a>00072                 }
<a name="l00073"></a>00073                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a5aa8b80a95d6c1ce70c55d1951087e02">AMIQ_ETH_PTP_RESERVED_3_WIDTH</a>];
<a name="l00074"></a>00074                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a5aa8b80a95d6c1ce70c55d1951087e02">AMIQ_ETH_PTP_RESERVED_3_WIDTH</a>; i++) {
<a name="l00075"></a>00075                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a>[i] = 0;
<a name="l00076"></a>00076                 }
<a name="l00077"></a>00077                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a> = <span class="keyword">false</span>;
<a name="l00078"></a>00078         }
<a name="l00079"></a>00079 
<a name="l00080"></a>00080         <span class="comment">//destructor</span>
<a name="l00081"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#aaad24bd23da748697622c571a00628fa">00081</a>         <a class="code" href="classamiq__eth__packet__ptp__header.html#aaad24bd23da748697622c571a00628fa">~amiq_eth_packet_ptp_header</a>() {
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00085"></a>00085         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00086"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#ad850767754579cc65075215571e59d85">00086</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__header.html#ad850767754579cc65075215571e59d85">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00087"></a>00087                 <a class="code" href="amiq__eth__types_8cpp.html#aec7b1faea5b556732957184ea2c7c4ef">amiq_eth_ptp_transport_specific_w</a> local_transport_specific;
<a name="l00088"></a>00088                 local_transport_specific = <a class="code" href="classamiq__eth__packet__ptp__header.html#a3ed673b4781a4400bf3fa0c65a0cb6d7">transport_specific</a>;
<a name="l00089"></a>00089                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, local_transport_specific);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091                 <a class="code" href="amiq__eth__types_8cpp.html#af1f2818eaeaf1141909954010c492e4d">amiq_eth_ptp_message_type_w</a> local_message_type;
<a name="l00092"></a>00092                 local_message_type = <a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>;
<a name="l00093"></a>00093                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, local_message_type);
<a name="l00094"></a>00094 
<a name="l00095"></a>00095                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a8e4be2349c3f85790dda4681b79a5f94">AMIQ_ETH_PTP_RESERVED_1_WIDTH</a>; index++) {
<a name="l00096"></a>00096                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a>[index]);
<a name="l00097"></a>00097                 }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a6d5c2946688a068e73a6878edf967644">version</a>);
<a name="l00100"></a>00100                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a815ae17dbbf6f031982993da0e714be5">message_length</a>);
<a name="l00101"></a>00101                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#acd74f33993f8d252846b11407105598a">domain_number</a>);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a7f28f65c97e4a94a90b73354d9d24101">AMIQ_ETH_PTP_RESERVED_2_WIDTH</a>; index++) {
<a name="l00104"></a>00104                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a>[index]);
<a name="l00105"></a>00105                 }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a167d8513bbd0a8c00983dcc29998ebf5">flags</a>);
<a name="l00108"></a>00108                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#ac985b496e7edef0abbb81b23f5a2d585">correction_field</a>);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a5aa8b80a95d6c1ce70c55d1951087e02">AMIQ_ETH_PTP_RESERVED_3_WIDTH</a>; index++) {
<a name="l00111"></a>00111                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a>[index]);
<a name="l00112"></a>00112                 }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#aa1b87a069ab41f7ad9bb42e005c8b4d3">AMIQ_ETH_PTP_SOURCE_PORT_IDENTITY_SIZE</a>; index++) {
<a name="l00115"></a>00115                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">source_port_identity</a>[index]);
<a name="l00116"></a>00116                 }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a7a93c17fb2f7e9d104b8456678cb6085">sequence_id</a>);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120                 <a class="code" href="amiq__eth__types_8cpp.html#afc7d1b0f3c084e1f5a2a7cd64485e7b2">amiq_eth_ptp_control_field_w</a> local_control_field;
<a name="l00121"></a>00121                 local_control_field = <a class="code" href="classamiq__eth__packet__ptp__header.html#a0ac39ffa7e8fccfebafd2ed81188e3ee">control_field</a>;
<a name="l00122"></a>00122                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, local_control_field);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a0318633469361ac605e5271d83c6b75e">log_message</a>);
<a name="l00125"></a>00125         }
<a name="l00126"></a>00126 
<a name="l00127"></a>00127         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00128"></a>00128         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00129"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a50b81480d0408ec14a9634e0bc888b4e">00129</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__header.html#a50b81480d0408ec14a9634e0bc888b4e">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00130"></a>00130                 <a class="code" href="amiq__eth__types_8cpp.html#aec7b1faea5b556732957184ea2c7c4ef">amiq_eth_ptp_transport_specific_w</a> local_transport_specific;
<a name="l00131"></a>00131                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, local_transport_specific);
<a name="l00132"></a>00132                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a3ed673b4781a4400bf3fa0c65a0cb6d7">transport_specific</a> = (<a class="code" href="amiq__eth__types_8cpp.html#aab37995d6465c50fd72265140440db08">amiq_eth_ptp_transport_specific</a>) local_transport_specific.to_int();
<a name="l00133"></a>00133 
<a name="l00134"></a>00134                 <a class="code" href="amiq__eth__types_8cpp.html#af1f2818eaeaf1141909954010c492e4d">amiq_eth_ptp_message_type_w</a> local_message_type;
<a name="l00135"></a>00135                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, local_message_type);
<a name="l00136"></a>00136                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a> = (<a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9">amiq_eth_ptp_message_type</a>) local_message_type.to_uint();
<a name="l00137"></a>00137 
<a name="l00138"></a>00138                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a8e4be2349c3f85790dda4681b79a5f94">AMIQ_ETH_PTP_RESERVED_1_WIDTH</a>; index++) {
<a name="l00139"></a>00139                         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> rsvd;
<a name="l00140"></a>00140                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, rsvd);
<a name="l00141"></a>00141                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a>[index] = rsvd;
<a name="l00142"></a>00142                 }
<a name="l00143"></a>00143 
<a name="l00144"></a>00144                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a6d5c2946688a068e73a6878edf967644">version</a>);
<a name="l00145"></a>00145                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a815ae17dbbf6f031982993da0e714be5">message_length</a>);
<a name="l00146"></a>00146                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#acd74f33993f8d252846b11407105598a">domain_number</a>);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a7f28f65c97e4a94a90b73354d9d24101">AMIQ_ETH_PTP_RESERVED_2_WIDTH</a>; index++) {
<a name="l00149"></a>00149                         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> rsvd;
<a name="l00150"></a>00150                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, rsvd);
<a name="l00151"></a>00151                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a>[index] = rsvd;
<a name="l00152"></a>00152                 }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a167d8513bbd0a8c00983dcc29998ebf5">flags</a>);
<a name="l00155"></a>00155                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#ac985b496e7edef0abbb81b23f5a2d585">correction_field</a>);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a5aa8b80a95d6c1ce70c55d1951087e02">AMIQ_ETH_PTP_RESERVED_3_WIDTH</a>; index++) {
<a name="l00158"></a>00158                         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> rsvd;
<a name="l00159"></a>00159                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, rsvd);
<a name="l00160"></a>00160                         <a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a>[index] = rsvd;
<a name="l00161"></a>00161                 }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#aa1b87a069ab41f7ad9bb42e005c8b4d3">AMIQ_ETH_PTP_SOURCE_PORT_IDENTITY_SIZE</a>; index++) {
<a name="l00164"></a>00164                         <a class="code" href="amiq__eth__types_8cpp.html#a7b096840c16198d2ce0842b243717a35">amiq_eth_ptp_source_port_identity</a> temp;
<a name="l00165"></a>00165                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, temp);
<a name="l00166"></a>00166                         <a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">source_port_identity</a>[index] = temp;
<a name="l00167"></a>00167                 }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a7a93c17fb2f7e9d104b8456678cb6085">sequence_id</a>);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171                 <a class="code" href="amiq__eth__types_8cpp.html#afc7d1b0f3c084e1f5a2a7cd64485e7b2">amiq_eth_ptp_control_field_w</a> local_control_field;
<a name="l00172"></a>00172                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, local_control_field);
<a name="l00173"></a>00173                 <a class="code" href="classamiq__eth__packet__ptp__header.html#a0ac39ffa7e8fccfebafd2ed81188e3ee">control_field</a> = (<a class="code" href="amiq__eth__types_8cpp.html#ab23b2951ab7f4c22548f39f4c9a9e33c">amiq_eth_ptp_control_field</a>) local_control_field.to_uint();
<a name="l00174"></a>00174 
<a name="l00175"></a>00175                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__header.html#a0318633469361ac605e5271d83c6b75e">log_message</a>);
<a name="l00176"></a>00176         }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00179"></a>00179         <span class="comment">//@param out - output stream</span>
<a name="l00180"></a><a class="code" href="classamiq__eth__packet__ptp__header.html#a2cf47a7607074bea8c5977e6beb26389">00180</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__header.html#a2cf47a7607074bea8c5977e6beb26389">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00181"></a>00181                 out &lt;&lt; <span class="stringliteral">&quot;TRANSPORT SPECIFIC: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a3ed673b4781a4400bf3fa0c65a0cb6d7">transport_specific</a> &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00182"></a>00182                 out &lt;&lt; <span class="stringliteral">&quot;MESSAGE_TYPE: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00183"></a>00183                 <span class="keywordflow">if</span> (<a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a>) {
<a name="l00184"></a>00184                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a8e4be2349c3f85790dda4681b79a5f94">AMIQ_ETH_PTP_RESERVED_1_WIDTH</a>; index++) {
<a name="l00185"></a>00185                                 out &lt;&lt; <span class="stringliteral">&quot;RSVD_1 [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a761cd2dccbba318c56f98137da6de429">ptp_reserved_1</a>[index].to_int() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00186"></a>00186                         }
<a name="l00187"></a>00187                 }
<a name="l00188"></a>00188                 out &lt;&lt; <span class="stringliteral">&quot;VERSION: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a6d5c2946688a068e73a6878edf967644">version</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00189"></a>00189                 out &lt;&lt; <span class="stringliteral">&quot;MESSAGE LENGTH: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a815ae17dbbf6f031982993da0e714be5">message_length</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00190"></a>00190                 out &lt;&lt; <span class="stringliteral">&quot;DOMAIN NUMBER: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#acd74f33993f8d252846b11407105598a">domain_number</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00191"></a>00191                 <span class="keywordflow">if</span> (<a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a>) {
<a name="l00192"></a>00192                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a7f28f65c97e4a94a90b73354d9d24101">AMIQ_ETH_PTP_RESERVED_2_WIDTH</a>; index++) {
<a name="l00193"></a>00193                                 out &lt;&lt; <span class="stringliteral">&quot;RSVD_2 [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a990527bd407cce0280f9003dad5dcd78">ptp_reserved_2</a>[index].to_int() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00194"></a>00194                         }
<a name="l00195"></a>00195                 }
<a name="l00196"></a>00196                 out &lt;&lt; <span class="stringliteral">&quot;FLAGS: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a167d8513bbd0a8c00983dcc29998ebf5">flags</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00197"></a>00197                 out &lt;&lt; <span class="stringliteral">&quot;CORRECTION FIELD: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#ac985b496e7edef0abbb81b23f5a2d585">correction_field</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00198"></a>00198                 <span class="keywordflow">if</span> (<a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a>) {
<a name="l00199"></a>00199                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a5aa8b80a95d6c1ce70c55d1951087e02">AMIQ_ETH_PTP_RESERVED_3_WIDTH</a>; index++) {
<a name="l00200"></a>00200                                 out &lt;&lt; <span class="stringliteral">&quot;RSVD_3 [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a1aa9a91e12f4b734de610092f8abd6cb">ptp_reserved_3</a>[index].to_int() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00201"></a>00201                         }
<a name="l00202"></a>00202                 }
<a name="l00203"></a>00203                 <span class="keywordflow">if</span> (<a class="code" href="classamiq__eth__packet__ptp__header.html#a0461d63c0667a1d6a1fb32185fa4fcf0">print_lists</a>) {
<a name="l00204"></a>00204                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#aa1b87a069ab41f7ad9bb42e005c8b4d3">AMIQ_ETH_PTP_SOURCE_PORT_IDENTITY_SIZE</a>; index++) {
<a name="l00205"></a>00205                                 out &lt;&lt; <span class="stringliteral">&quot;SOURCE PORT IDENTITY [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#aa66d99d4acc74866ed54741a0dff543e">source_port_identity</a>[index].to_int() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00206"></a>00206                         }
<a name="l00207"></a>00207                 }
<a name="l00208"></a>00208                 out &lt;&lt; <span class="stringliteral">&quot;SEQUENCE ID: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a7a93c17fb2f7e9d104b8456678cb6085">sequence_id</a>.to_uint() &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00209"></a>00209                 out &lt;&lt; <span class="stringliteral">&quot;CONTROL FIELD: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a0ac39ffa7e8fccfebafd2ed81188e3ee">control_field</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00210"></a>00210                 out &lt;&lt; <span class="stringliteral">&quot;LOG MESSAGE: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__header.html#a0318633469361ac605e5271d83c6b75e">log_message</a>.to_uint();
<a name="l00211"></a>00211         }
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 };
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">//Ethernet Precision Time Protocol packet</span>
<a name="l00217"></a><a class="code" href="classamiq__eth__packet__ptp__body.html">00217</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp__body.html">amiq_eth_packet_ptp_body</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__object.html">amiq_eth_object</a> {
<a name="l00218"></a>00218 <span class="keyword">public</span>:
<a name="l00219"></a>00219 
<a name="l00220"></a>00220         <span class="comment">//constructor</span>
<a name="l00221"></a><a class="code" href="classamiq__eth__packet__ptp__body.html#a9bc5473367cced49e72242ea64262c52">00221</a>         <a class="code" href="classamiq__eth__packet__ptp__body.html#a9bc5473367cced49e72242ea64262c52">amiq_eth_packet_ptp_body</a>() {
<a name="l00222"></a>00222         }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="comment">//destructor</span>
<a name="l00225"></a><a class="code" href="classamiq__eth__packet__ptp__body.html#a6fe39e892a2b0b45c7b5046c858bff07">00225</a>         <a class="code" href="classamiq__eth__packet__ptp__body.html#a6fe39e892a2b0b45c7b5046c858bff07">~amiq_eth_packet_ptp_body</a>() {
<a name="l00226"></a>00226         }
<a name="l00227"></a>00227 
<a name="l00228"></a>00228         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00229"></a>00229         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00230"></a><a class="code" href="classamiq__eth__packet__ptp__body.html#a3df3ad9b3a4ef7ec42357565d44ede05">00230</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__body.html#a3df3ad9b3a4ef7ec42357565d44ede05">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00231"></a>00231         }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00234"></a>00234         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00235"></a><a class="code" href="classamiq__eth__packet__ptp__body.html#a17a10ad537b6553f35b54d2f037d4f0d">00235</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__body.html#a17a10ad537b6553f35b54d2f037d4f0d">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00239"></a>00239         <span class="comment">//@param out - output stream</span>
<a name="l00240"></a><a class="code" href="classamiq__eth__packet__ptp__body.html#a44ff8df4c84f236f8bab792ceb338e6a">00240</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__body.html#a44ff8df4c84f236f8bab792ceb338e6a">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 };
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="comment">//PTP announce message class</span>
<a name="l00247"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html">00247</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp__announce__message.html">amiq_eth_packet_ptp_announce_message</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__packet__ptp__body.html">amiq_eth_packet_ptp_body</a> {
<a name="l00248"></a>00248 <span class="keyword">public</span>:
<a name="l00249"></a>00249 
<a name="l00250"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">00250</a>         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> *<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">origin_timestamp</a>;
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aa0d05c2c4d2e45e899dd2e2d921c790a">00252</a>         <a class="code" href="amiq__eth__types_8cpp.html#a2e4008c65de41c88cb0a31e7da8c5d12">amiq_eth_ptp_announce_message_current_utc_offset</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aa0d05c2c4d2e45e899dd2e2d921c790a">current_utc_offset</a>;
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">00254</a>         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> *<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a>;
<a name="l00255"></a>00255 
<a name="l00256"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ae258080e7315ca186aea221d7e41f9a4">00256</a>         <a class="code" href="amiq__eth__types_8cpp.html#a7facc1b3ea33d79c32845cd7464c0857">amiq_eth_ptp_announce_message_grandmaster_priority_1</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ae258080e7315ca186aea221d7e41f9a4">grandmaster_priority_1</a>;
<a name="l00257"></a>00257 
<a name="l00258"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a866b981ee7e7f2676da3489c03471ce3">00258</a>         <a class="code" href="amiq__eth__types_8cpp.html#aef318716376eb3c45f5ccdf0158ec4eb">amiq_eth_ptp_announce_message_grandmaster_clock_quality</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a866b981ee7e7f2676da3489c03471ce3">grandmaster_clock_quality</a>;
<a name="l00259"></a>00259 
<a name="l00260"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a4f6c2c42d48173f1b7573aaf6aa63d01">00260</a>         <a class="code" href="amiq__eth__types_8cpp.html#ae7c7c3f73f55a2d63fba35722704b7f0">amiq_eth_ptp_announce_message_grandmaster_priority_2</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a4f6c2c42d48173f1b7573aaf6aa63d01">grandmaster_priority_2</a>;
<a name="l00261"></a>00261 
<a name="l00262"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#af5f4614eb76c459fe344b070103c11e7">00262</a>         <a class="code" href="amiq__eth__types_8cpp.html#ab8d5aeef81a214d4cda947f8bd4bd609">amiq_eth_ptp_announce_message_grandmaster_identity</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#af5f4614eb76c459fe344b070103c11e7">grandmaster_identity</a>;
<a name="l00263"></a>00263 
<a name="l00264"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a3bbde8f5edb3a9b9b606a489620375a8">00264</a>         <a class="code" href="amiq__eth__types_8cpp.html#a6a730bd06108652c67c16032f3157369">amiq_eth_ptp_announce_message_steps_removed</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a3bbde8f5edb3a9b9b606a489620375a8">steps_removed</a>;
<a name="l00265"></a>00265 
<a name="l00266"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a1cbc8a5fe3f254291ec7787daf4c1054">00266</a>         <a class="code" href="amiq__eth__types_8cpp.html#a4df18979e2279ef0f4a378507a506d96">amiq_eth_ptp_announce_message_time_source</a> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a1cbc8a5fe3f254291ec7787daf4c1054">time_source</a>;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         <span class="comment">//switch to print lists</span>
<a name="l00269"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#abdea2756813db75cbf294607dbc8a78f">00269</a>         <span class="keywordtype">bool</span> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#abdea2756813db75cbf294607dbc8a78f">print_lists</a>;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         <span class="comment">//constructor</span>
<a name="l00272"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a50c67961ebff6d26140d5718004e922f">00272</a>         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a50c67961ebff6d26140d5718004e922f">amiq_eth_packet_ptp_announce_message</a>() {
<a name="l00273"></a>00273                 <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">origin_timestamp</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>];
<a name="l00274"></a>00274                 <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a0739516c5664d1134752dbb9bf55d07a">AMIQ_ETH_PTP_ANNOUNCE_MESSAGE_RESERVED_WIDTH</a>];
<a name="l00275"></a>00275                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a0739516c5664d1134752dbb9bf55d07a">AMIQ_ETH_PTP_ANNOUNCE_MESSAGE_RESERVED_WIDTH</a>; i++) {
<a name="l00276"></a>00276                         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a>[i] = 0;
<a name="l00277"></a>00277                 }
<a name="l00278"></a>00278                 <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#abdea2756813db75cbf294607dbc8a78f">print_lists</a> = <span class="keyword">false</span>;
<a name="l00279"></a>00279         }
<a name="l00280"></a>00280 
<a name="l00281"></a>00281         <span class="comment">//destrucor</span>
<a name="l00282"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a2fb1709d53f4e22c9acaa0d78926fe82">00282</a>         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a2fb1709d53f4e22c9acaa0d78926fe82">~amiq_eth_packet_ptp_announce_message</a>() {
<a name="l00283"></a>00283         }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00286"></a>00286         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00287"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a158d8eb0b4081bdfbce9d4b34be6daf7">00287</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a158d8eb0b4081bdfbce9d4b34be6daf7">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00288"></a>00288                 <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a158d8eb0b4081bdfbce9d4b34be6daf7">amiq_eth_packet_ptp_body::do_pack</a>(packer);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00291"></a>00291                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">origin_timestamp</a>[index]);
<a name="l00292"></a>00292                 }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aa0d05c2c4d2e45e899dd2e2d921c790a">current_utc_offset</a>);
<a name="l00295"></a>00295 
<a name="l00296"></a>00296                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a0739516c5664d1134752dbb9bf55d07a">AMIQ_ETH_PTP_ANNOUNCE_MESSAGE_RESERVED_WIDTH</a>; index++) {
<a name="l00297"></a>00297                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a>[index]);
<a name="l00298"></a>00298                 }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ae258080e7315ca186aea221d7e41f9a4">grandmaster_priority_1</a>);
<a name="l00301"></a>00301                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a866b981ee7e7f2676da3489c03471ce3">grandmaster_clock_quality</a>);
<a name="l00302"></a>00302                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a4f6c2c42d48173f1b7573aaf6aa63d01">grandmaster_priority_2</a>);
<a name="l00303"></a>00303                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#af5f4614eb76c459fe344b070103c11e7">grandmaster_identity</a>);
<a name="l00304"></a>00304                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a3bbde8f5edb3a9b9b606a489620375a8">steps_removed</a>);
<a name="l00305"></a>00305                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a1cbc8a5fe3f254291ec7787daf4c1054">time_source</a>);
<a name="l00306"></a>00306         }
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00309"></a>00309         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00310"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad5f6e496679c3ba130275b5330a23366">00310</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad5f6e496679c3ba130275b5330a23366">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00311"></a>00311                 <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad5f6e496679c3ba130275b5330a23366">amiq_eth_packet_ptp_body::do_unpack</a>(packer);
<a name="l00312"></a>00312 
<a name="l00313"></a>00313                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00314"></a>00314                         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> t;
<a name="l00315"></a>00315                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, t);
<a name="l00316"></a>00316                         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">origin_timestamp</a>[index] = t;
<a name="l00317"></a>00317                 }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aa0d05c2c4d2e45e899dd2e2d921c790a">current_utc_offset</a>);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a0739516c5664d1134752dbb9bf55d07a">AMIQ_ETH_PTP_ANNOUNCE_MESSAGE_RESERVED_WIDTH</a>; index++) {
<a name="l00322"></a>00322                         <a class="code" href="amiq__eth__types_8cpp.html#ad10b57e0e913c9526272e60a5d0b7402">amiq_eth_ptp_reserved</a> rsvd;
<a name="l00323"></a>00323                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, rsvd);
<a name="l00324"></a>00324                         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a>[index] = rsvd;
<a name="l00325"></a>00325                 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ae258080e7315ca186aea221d7e41f9a4">grandmaster_priority_1</a>);
<a name="l00328"></a>00328                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a866b981ee7e7f2676da3489c03471ce3">grandmaster_clock_quality</a>);
<a name="l00329"></a>00329                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a4f6c2c42d48173f1b7573aaf6aa63d01">grandmaster_priority_2</a>);
<a name="l00330"></a>00330                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#af5f4614eb76c459fe344b070103c11e7">grandmaster_identity</a>);
<a name="l00331"></a>00331                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a3bbde8f5edb3a9b9b606a489620375a8">steps_removed</a>);
<a name="l00332"></a>00332                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a1cbc8a5fe3f254291ec7787daf4c1054">time_source</a>);
<a name="l00333"></a>00333         }
<a name="l00334"></a>00334 
<a name="l00335"></a>00335         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00336"></a>00336         <span class="comment">//@param out - output stream</span>
<a name="l00337"></a><a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aba766be017b0eb4137a5fac7143c598b">00337</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aba766be017b0eb4137a5fac7143c598b">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00338"></a>00338                 <span class="keywordflow">if</span>(<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#abdea2756813db75cbf294607dbc8a78f">print_lists</a>) {
<a name="l00339"></a>00339                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00340"></a>00340                                 out &lt;&lt; <span class="stringliteral">&quot;ORIGIN TIMESTAMP [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a8eb45448fa61158d4a03b9d3e94e1271">origin_timestamp</a>[index].to_int() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00341"></a>00341                         }
<a name="l00342"></a>00342                 }
<a name="l00343"></a>00343                 out &lt;&lt; <span class="stringliteral">&quot;CURRENT UTC OFFSET: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aa0d05c2c4d2e45e899dd2e2d921c790a">current_utc_offset</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00344"></a>00344                 <span class="keywordflow">if</span>(<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#abdea2756813db75cbf294607dbc8a78f">print_lists</a>) {
<a name="l00345"></a>00345                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a0739516c5664d1134752dbb9bf55d07a">AMIQ_ETH_PTP_ANNOUNCE_MESSAGE_RESERVED_WIDTH</a>; index++) {
<a name="l00346"></a>00346                                 out &lt;&lt; <span class="stringliteral">&quot;RSVD_ANNOUNCE_MESSAGE [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad4949245331aa207e7d5780c34c79d8e">ptp_announce_message_reserved</a>[index].to_int() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00347"></a>00347                         }
<a name="l00348"></a>00348                 }
<a name="l00349"></a>00349                 out &lt;&lt; <span class="stringliteral">&quot;GRANDMASTER PRIORITY 1: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ae258080e7315ca186aea221d7e41f9a4">grandmaster_priority_1</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00350"></a>00350                 out &lt;&lt; <span class="stringliteral">&quot;GRANDMASTER CLOCK QUALITY: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a866b981ee7e7f2676da3489c03471ce3">grandmaster_clock_quality</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00351"></a>00351                 out &lt;&lt; <span class="stringliteral">&quot;GRANDMASTER PRIORITY 2: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a4f6c2c42d48173f1b7573aaf6aa63d01">grandmaster_priority_2</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00352"></a>00352                 out &lt;&lt; <span class="stringliteral">&quot;GRANDMASTER ITENTITY: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#af5f4614eb76c459fe344b070103c11e7">grandmaster_identity</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00353"></a>00353                 out &lt;&lt; <span class="stringliteral">&quot;STEPS REMOVED: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a3bbde8f5edb3a9b9b606a489620375a8">steps_removed</a>.to_uint() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00354"></a>00354                 out &lt;&lt; <span class="stringliteral">&quot;TIME SOURCE: &quot;</span> &lt;&lt; std::dec &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a1cbc8a5fe3f254291ec7787daf4c1054">time_source</a>.to_uint();
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 };
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 <span class="comment">//PTP announce message class</span>
<a name="l00361"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html">00361</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp__sync__message.html">amiq_eth_packet_ptp_sync_message</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__packet__ptp__body.html">amiq_eth_packet_ptp_body</a> {
<a name="l00362"></a>00362 <span class="keyword">public</span>:
<a name="l00363"></a>00363 
<a name="l00364"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">00364</a>         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> *<a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">origin_timestamp</a>;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366         <span class="comment">//switch to print lists</span>
<a name="l00367"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ae7f8f44c6b98c23c6f826bbc29e7598c">00367</a>         <span class="keywordtype">bool</span> <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ae7f8f44c6b98c23c6f826bbc29e7598c">print_lists</a>;
<a name="l00368"></a>00368 
<a name="l00369"></a>00369         <span class="comment">//constructor</span>
<a name="l00370"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad640a426a022d3a795d2ca5930faf864">00370</a>         <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad640a426a022d3a795d2ca5930faf864">amiq_eth_packet_ptp_sync_message</a>() {
<a name="l00371"></a>00371                 <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">origin_timestamp</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>];
<a name="l00372"></a>00372                 <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ae7f8f44c6b98c23c6f826bbc29e7598c">print_lists</a> = <span class="keyword">false</span>;
<a name="l00373"></a>00373         }
<a name="l00374"></a>00374 
<a name="l00375"></a>00375         <span class="comment">//destructor</span>
<a name="l00376"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#aa41c9c0ca4a366b0b16ead16d6777bb0">00376</a>         <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#aa41c9c0ca4a366b0b16ead16d6777bb0">~amiq_eth_packet_ptp_sync_message</a>() {
<a name="l00377"></a>00377         }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00380"></a>00380         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00381"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a5bb7abd15c0d2d2d733f042ad13c898d">00381</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a5bb7abd15c0d2d2d733f042ad13c898d">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00382"></a>00382                 <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a5bb7abd15c0d2d2d733f042ad13c898d">amiq_eth_packet_ptp_body::do_pack</a>(packer);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00385"></a>00385                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">origin_timestamp</a>[index]);
<a name="l00386"></a>00386                 }
<a name="l00387"></a>00387         }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00390"></a>00390         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00391"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad0756fb94c7d9ea5ea0da34ca6b41a53">00391</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad0756fb94c7d9ea5ea0da34ca6b41a53">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00392"></a>00392                 <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad0756fb94c7d9ea5ea0da34ca6b41a53">amiq_eth_packet_ptp_body::do_unpack</a>(packer);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00395"></a>00395                         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> t;
<a name="l00396"></a>00396                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, t);
<a name="l00397"></a>00397                         <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">origin_timestamp</a>[index] = t;
<a name="l00398"></a>00398                 }
<a name="l00399"></a>00399         }
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00402"></a>00402         <span class="comment">//@param out - output stream</span>
<a name="l00403"></a><a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a3eca4a1338800bcac5fdac104f350366">00403</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a3eca4a1338800bcac5fdac104f350366">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00404"></a>00404                 <span class="keywordflow">if</span>(<a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ae7f8f44c6b98c23c6f826bbc29e7598c">print_lists</a>) {
<a name="l00405"></a>00405                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00406"></a>00406                                 out &lt;&lt; <span class="stringliteral">&quot;ORIGIN TIMESTAMP [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a33121ee506581632ab544ead48cbe342">origin_timestamp</a>[index].to_int() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00407"></a>00407                         }
<a name="l00408"></a>00408                 }
<a name="l00409"></a>00409         }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 };
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 <span class="comment">//PTP delay request message</span>
<a name="l00415"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html">00415</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html">amiq_eth_packet_ptp_delay_req_message</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__packet__ptp__body.html">amiq_eth_packet_ptp_body</a> {
<a name="l00416"></a>00416 <span class="keyword">public</span>:
<a name="l00417"></a>00417 
<a name="l00418"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">00418</a>         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> *<a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">origin_timestamp</a>;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420         <span class="comment">//switch to print lists</span>
<a name="l00421"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a1f833793f6438b06b6f26ce40ae1cd83">00421</a>         <span class="keywordtype">bool</span> <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a1f833793f6438b06b6f26ce40ae1cd83">print_lists</a>;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         <span class="comment">//constructor</span>
<a name="l00424"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a87e28dcb09619404e683577e2aff94d3">00424</a>         <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a87e28dcb09619404e683577e2aff94d3">amiq_eth_packet_ptp_delay_req_message</a>() {
<a name="l00425"></a>00425                 <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">origin_timestamp</a> = <span class="keyword">new</span> <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a>[<a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>];
<a name="l00426"></a>00426                 <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a1f833793f6438b06b6f26ce40ae1cd83">print_lists</a> = <span class="keyword">false</span>;
<a name="l00427"></a>00427         }
<a name="l00428"></a>00428 
<a name="l00429"></a>00429         <span class="comment">//destructor</span>
<a name="l00430"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a56dccff94f0c8618cc32e89cfbeff0f2">00430</a>         <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a56dccff94f0c8618cc32e89cfbeff0f2">~amiq_eth_packet_ptp_delay_req_message</a>() {
<a name="l00431"></a>00431         }
<a name="l00432"></a>00432 
<a name="l00433"></a>00433         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00434"></a>00434         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00435"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a746ff6b9bc45d17e7158525b6433f21a">00435</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a746ff6b9bc45d17e7158525b6433f21a">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00436"></a>00436                 <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a746ff6b9bc45d17e7158525b6433f21a">amiq_eth_packet_ptp_body::do_pack</a>(packer);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00439"></a>00439                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">origin_timestamp</a>[index]);
<a name="l00440"></a>00440                 }
<a name="l00441"></a>00441         }
<a name="l00442"></a>00442 
<a name="l00443"></a>00443         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00444"></a>00444         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00445"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aadf94c8b12005e5bdcbc01e5ca8adef6">00445</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aadf94c8b12005e5bdcbc01e5ca8adef6">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00446"></a>00446                 <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aadf94c8b12005e5bdcbc01e5ca8adef6">amiq_eth_packet_ptp_body::do_unpack</a>(packer);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00449"></a>00449                         <a class="code" href="amiq__eth__types_8cpp.html#add82721f4ff373d2b82269bbf5941032">amiq_eth_ptp_origin_timestamp</a> t;
<a name="l00450"></a>00450                         <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, t);
<a name="l00451"></a>00451                         <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">origin_timestamp</a>[index] = t;
<a name="l00452"></a>00452                 }
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00456"></a>00456         <span class="comment">//@param out - output stream</span>
<a name="l00457"></a><a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aac81caa439938e5eb0c2af2dbd9c82ee">00457</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aac81caa439938e5eb0c2af2dbd9c82ee">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00458"></a>00458                 <span class="keywordflow">if</span>(<a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a1f833793f6438b06b6f26ce40ae1cd83">print_lists</a>) {
<a name="l00459"></a>00459                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="amiq__eth__defines_8cpp.html#a9b820e85aa81331296e3423c6615d6bf">AMIQ_ETH_PTP_ORIGIN_TIMESTAMP_SIZE</a>; index++) {
<a name="l00460"></a>00460                                 out &lt;&lt; <span class="stringliteral">&quot;ORIGIN TIMESTAMP [&quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a7cb4eb7b14be4ac43a1628330093184c">origin_timestamp</a>[index].to_int() &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00461"></a>00461                         }
<a name="l00462"></a>00462                 }
<a name="l00463"></a>00463         }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 };
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="comment">//PTP packet</span>
<a name="l00469"></a><a class="code" href="classamiq__eth__packet__ptp.html">00469</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__ptp.html">amiq_eth_packet_ptp</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__packet__ether__type.html">amiq_eth_packet_ether_type</a> {
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 <span class="keyword">public</span>:
<a name="l00472"></a>00472 
<a name="l00473"></a>00473         <span class="comment">//header</span>
<a name="l00474"></a><a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">00474</a>         <a class="code" href="classamiq__eth__packet__ptp__header.html">amiq_eth_packet_ptp_header</a> <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476         <span class="comment">//body</span>
<a name="l00477"></a><a class="code" href="classamiq__eth__packet__ptp.html#a6d3636995bf83da8721a245b27495e24">00477</a>         <a class="code" href="classamiq__eth__packet__ptp__announce__message.html">amiq_eth_packet_ptp_announce_message</a> <a class="code" href="classamiq__eth__packet__ptp.html#a6d3636995bf83da8721a245b27495e24">announce_message_body</a>;
<a name="l00478"></a><a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">00478</a>         <a class="code" href="classamiq__eth__packet__ptp__sync__message.html">amiq_eth_packet_ptp_sync_message</a> <a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a>;
<a name="l00479"></a><a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">00479</a>         <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html">amiq_eth_packet_ptp_delay_req_message</a> <a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a>;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481         <span class="comment">//fcs</span>
<a name="l00482"></a><a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">00482</a>         <a class="code" href="amiq__eth__types_8cpp.html#adb511dc715b55539c6abdad1de981a9f">amiq_eth_fcs</a> <a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">fcs</a>;
<a name="l00483"></a>00483 
<a name="l00484"></a>00484         <span class="comment">//constructor</span>
<a name="l00485"></a><a class="code" href="classamiq__eth__packet__ptp.html#a20167ddce08cead24360e27ac9e1e570">00485</a>         <a class="code" href="classamiq__eth__packet__ptp.html#a20167ddce08cead24360e27ac9e1e570">amiq_eth_packet_ptp</a>() {
<a name="l00486"></a>00486                 <a class="code" href="classamiq__eth__packet__ether__type.html#a6d7d60a348004a078df2635936c8483a">ether_type</a> = <a class="code" href="amiq__eth__types_8cpp.html#a37b16207afec6c164b234103e61309c4afc9d21512a7b73178c90098a08bb44cc">SC_AMIQ_ETH_PTP</a>;
<a name="l00487"></a>00487                 <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a> = *(<span class="keyword">new</span> <a class="code" href="classamiq__eth__packet__ptp__header.html">amiq_eth_packet_ptp_header</a>());
<a name="l00488"></a>00488                 <a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a> = *(<span class="keyword">new</span> <a class="code" href="classamiq__eth__packet__ptp__sync__message.html">amiq_eth_packet_ptp_sync_message</a>());
<a name="l00489"></a>00489                 <a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a> = *(<span class="keyword">new</span> <a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html">amiq_eth_packet_ptp_delay_req_message</a>());
<a name="l00490"></a>00490         }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492         <span class="comment">//destructor</span>
<a name="l00493"></a><a class="code" href="classamiq__eth__packet__ptp.html#a3970961ac5aec4bb174e10bc463117bb">00493</a>         <span class="keyword">virtual</span> <a class="code" href="classamiq__eth__packet__ptp.html#a3970961ac5aec4bb174e10bc463117bb">~amiq_eth_packet_ptp</a>() {
<a name="l00494"></a>00494                 <span class="keyword">delete</span> &amp;<a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>;
<a name="l00495"></a>00495                 <span class="keyword">delete</span> &amp;<a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a>;
<a name="l00496"></a>00496                 <span class="keyword">delete</span> &amp;<a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a>;
<a name="l00497"></a>00497         }
<a name="l00498"></a>00498 
<a name="l00499"></a>00499         <span class="comment">//pack FCS field</span>
<a name="l00500"></a>00500         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00501"></a><a class="code" href="classamiq__eth__packet__ptp.html#ab7bc36daf8f06a4c65e4cbe4c84a04a7">00501</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#ab7bc36daf8f06a4c65e4cbe4c84a04a7">pack_fcs</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00502"></a>00502                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">fcs</a>);
<a name="l00503"></a>00503         }
<a name="l00504"></a>00504 
<a name="l00505"></a>00505         <span class="comment">//pack body field</span>
<a name="l00506"></a>00506         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00507"></a><a class="code" href="classamiq__eth__packet__ptp.html#aa9c14abac259c28ca17c69eecaa5a403">00507</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#aa9c14abac259c28ca17c69eecaa5a403">pack_body</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00508"></a>00508                 <span class="keywordflow">switch</span> (<a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>) {
<a name="l00509"></a>00509                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a0906235f5b0c5f7ae374f961b265bfdf">PTP_AnnounceMessage</a>:
<a name="l00510"></a>00510                         <a class="code" href="classamiq__eth__packet__ptp.html#a6d3636995bf83da8721a245b27495e24">announce_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#a158d8eb0b4081bdfbce9d4b34be6daf7">do_pack</a>(packer);
<a name="l00511"></a>00511                         <span class="keywordflow">break</span>;
<a name="l00512"></a>00512                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a65ae040417cfe9eb723bfd4e9831acc9">PTP_SyncMessage</a>:
<a name="l00513"></a>00513                         <a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a5bb7abd15c0d2d2d733f042ad13c898d">do_pack</a>(packer);
<a name="l00514"></a>00514                         <span class="keywordflow">break</span>;
<a name="l00515"></a>00515                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9ad7dd526881c6925847852ecc483726e8">PTP_Delay_ReqMessage</a>:
<a name="l00516"></a>00516                         <a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#a746ff6b9bc45d17e7158525b6433f21a">do_pack</a>(packer);
<a name="l00517"></a>00517                         <span class="keywordflow">break</span>;
<a name="l00518"></a>00518                 <span class="keywordflow">default</span>:
<a name="l00519"></a>00519                         stringstream ss;
<a name="l00520"></a>00520                         ss &lt;&lt; <span class="stringliteral">&quot;Could not determine message type: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>;
<a name="l00521"></a>00521                         <span class="keywordtype">string</span> str = ss.str();
<a name="l00522"></a>00522                         SC_REPORT_ERROR(<span class="stringliteral">&quot;AMIQ_ETH&quot;</span>, str.c_str());
<a name="l00523"></a>00523                         <span class="keywordflow">break</span>;
<a name="l00524"></a>00524                 }
<a name="l00525"></a>00525         }
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00528"></a>00528         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00529"></a><a class="code" href="classamiq__eth__packet__ptp.html#a5d415af5fcb6ed2cb603aaf0105fdd43">00529</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#a5d415af5fcb6ed2cb603aaf0105fdd43">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00530"></a>00530                 <a class="code" href="classamiq__eth__packet__ptp.html#a5d415af5fcb6ed2cb603aaf0105fdd43">amiq_eth_packet_ether_type::do_pack</a>(packer);
<a name="l00531"></a>00531                 <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#ad850767754579cc65075215571e59d85">do_pack</a>(packer);
<a name="l00532"></a>00532                 <a class="code" href="classamiq__eth__packet__ptp.html#aa9c14abac259c28ca17c69eecaa5a403">pack_body</a>(packer);
<a name="l00533"></a>00533                 <a class="code" href="classamiq__eth__packet__ptp.html#ab7bc36daf8f06a4c65e4cbe4c84a04a7">pack_fcs</a>(packer);
<a name="l00534"></a>00534         }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00537"></a>00537         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00538"></a><a class="code" href="classamiq__eth__packet__ptp.html#a831addd66dff7e42f2e2e9edb6f976b3">00538</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#a831addd66dff7e42f2e2e9edb6f976b3">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00539"></a>00539                 <a class="code" href="classamiq__eth__packet__ptp.html#a831addd66dff7e42f2e2e9edb6f976b3">amiq_eth_packet_ether_type::do_unpack</a>(packer);
<a name="l00540"></a>00540                 <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a50b81480d0408ec14a9634e0bc888b4e">do_unpack</a>(packer);
<a name="l00541"></a>00541 
<a name="l00542"></a>00542                 <span class="keywordflow">switch</span> (<a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>) {
<a name="l00543"></a>00543                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a0906235f5b0c5f7ae374f961b265bfdf">PTP_AnnounceMessage</a>:
<a name="l00544"></a>00544                         <a class="code" href="classamiq__eth__packet__ptp.html#a6d3636995bf83da8721a245b27495e24">announce_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#ad5f6e496679c3ba130275b5330a23366">do_unpack</a>(packer);
<a name="l00545"></a>00545                         <span class="keywordflow">break</span>;
<a name="l00546"></a>00546                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a65ae040417cfe9eb723bfd4e9831acc9">PTP_SyncMessage</a>:
<a name="l00547"></a>00547                         <a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__sync__message.html#ad0756fb94c7d9ea5ea0da34ca6b41a53">do_unpack</a>(packer);
<a name="l00548"></a>00548                         <span class="keywordflow">break</span>;
<a name="l00549"></a>00549                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9ad7dd526881c6925847852ecc483726e8">PTP_Delay_ReqMessage</a>:
<a name="l00550"></a>00550                         <a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aadf94c8b12005e5bdcbc01e5ca8adef6">do_unpack</a>(packer);
<a name="l00551"></a>00551                         <span class="keywordflow">break</span>;
<a name="l00552"></a>00552                 <span class="keywordflow">default</span>:
<a name="l00553"></a>00553                         stringstream ss;
<a name="l00554"></a>00554                         ss &lt;&lt; <span class="stringliteral">&quot;Could not determine message type: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>;
<a name="l00555"></a>00555                         <span class="keywordtype">string</span> str = ss.str();
<a name="l00556"></a>00556                         SC_REPORT_ERROR(<span class="stringliteral">&quot;AMIQ_ETH&quot;</span>, str.c_str());
<a name="l00557"></a>00557                         <span class="keywordflow">break</span>;
<a name="l00558"></a>00558                 }
<a name="l00559"></a>00559 
<a name="l00560"></a>00560                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">fcs</a>);
<a name="l00561"></a>00561         }
<a name="l00562"></a>00562 
<a name="l00563"></a>00563         <span class="comment">//function for packing the Ethernet packet using only the required information for computing the FCS</span>
<a name="l00564"></a>00564         <span class="comment">//@param bitstream - the packed bit stream is placed in &quot;bitstream&quot; parameter</span>
<a name="l00565"></a><a class="code" href="classamiq__eth__packet__ptp.html#a68337ad7c7971f267b692dfbd92ede7b">00565</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#a68337ad7c7971f267b692dfbd92ede7b">do_pack_for_fcs</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00566"></a>00566                 <a class="code" href="classamiq__eth__packet__ptp.html#a68337ad7c7971f267b692dfbd92ede7b">amiq_eth_packet_ether_type::do_pack_for_fcs</a>(packer);
<a name="l00567"></a>00567                 <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#ad850767754579cc65075215571e59d85">do_pack</a>(packer);
<a name="l00568"></a>00568                 <a class="code" href="classamiq__eth__packet__ptp.html#aa9c14abac259c28ca17c69eecaa5a403">pack_body</a>(packer);
<a name="l00569"></a>00569         }
<a name="l00570"></a>00570 
<a name="l00571"></a>00571         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00572"></a>00572         <span class="comment">//@param out - output stream</span>
<a name="l00573"></a><a class="code" href="classamiq__eth__packet__ptp.html#a52db9ab62ab743317a7ca4745a823a82">00573</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__ptp.html#a52db9ab62ab743317a7ca4745a823a82">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00574"></a>00574                 <span class="keywordtype">string</span> fcs_info;
<a name="l00575"></a>00575                 <a class="code" href="amiq__eth__types_8cpp.html#adb511dc715b55539c6abdad1de981a9f">amiq_eth_fcs</a> correct_fcs = <a class="code" href="classamiq__eth__packet.html#a2f1fcef6ebdffa00a9b34fc7eae1be5e">get_correct_fcs</a>();
<a name="l00576"></a>00576 
<a name="l00577"></a>00577                 <span class="keywordflow">if</span> (correct_fcs == <a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">fcs</a>) {
<a name="l00578"></a>00578                         fcs_info = <span class="stringliteral">&quot;FCS is correct&quot;</span>;
<a name="l00579"></a>00579                 } <span class="keywordflow">else</span> {
<a name="l00580"></a>00580                         stringstream ss;
<a name="l00581"></a>00581                         ss &lt;&lt; <span class="stringliteral">&quot;FCS is wrong - expecting &quot;</span> &lt;&lt; std::hex &lt;&lt; correct_fcs &lt;&lt; endl;
<a name="l00582"></a>00582                         fcs_info = ss.str();
<a name="l00583"></a>00583                 };
<a name="l00584"></a>00584 
<a name="l00585"></a>00585                 <a class="code" href="classamiq__eth__packet__ptp.html#a52db9ab62ab743317a7ca4745a823a82">amiq_eth_packet_ether_type::do_print</a>(out);
<a name="l00586"></a>00586                 out &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00587"></a>00587                 <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a2cf47a7607074bea8c5977e6beb26389">do_print</a>(out);
<a name="l00588"></a>00588                 <span class="keywordflow">switch</span> (<a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>) {
<a name="l00589"></a>00589                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a0906235f5b0c5f7ae374f961b265bfdf">PTP_AnnounceMessage</a>:
<a name="l00590"></a>00590                         <a class="code" href="classamiq__eth__packet__ptp.html#a6d3636995bf83da8721a245b27495e24">announce_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__announce__message.html#aba766be017b0eb4137a5fac7143c598b">do_print</a>(out);
<a name="l00591"></a>00591                         <span class="keywordflow">break</span>;
<a name="l00592"></a>00592                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9a65ae040417cfe9eb723bfd4e9831acc9">PTP_SyncMessage</a>:
<a name="l00593"></a>00593                         <a class="code" href="classamiq__eth__packet__ptp.html#ad28ea57af5d6111b1724fb14e995d30c">sync_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__sync__message.html#a3eca4a1338800bcac5fdac104f350366">do_print</a>(out);
<a name="l00594"></a>00594                         <span class="keywordflow">break</span>;
<a name="l00595"></a>00595                 <span class="keywordflow">case</span> <a class="code" href="amiq__eth__types_8cpp.html#a619ff98cdb5a79f8d8e57f83999fc4a9ad7dd526881c6925847852ecc483726e8">PTP_Delay_ReqMessage</a>:
<a name="l00596"></a>00596                         <a class="code" href="classamiq__eth__packet__ptp.html#ad1117b52c9080df91e256d2649281547">delay_req_message_body</a>.<a class="code" href="classamiq__eth__packet__ptp__delay__req__message.html#aac81caa439938e5eb0c2af2dbd9c82ee">do_print</a>(out);
<a name="l00597"></a>00597                         <span class="keywordflow">break</span>;
<a name="l00598"></a>00598                 <span class="keywordflow">default</span>:
<a name="l00599"></a>00599                         stringstream ss;
<a name="l00600"></a>00600                         ss &lt;&lt; <span class="stringliteral">&quot;Could not determine message type: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp.html#a09df382a165bd23e508f402ff0833c36">header</a>.<a class="code" href="classamiq__eth__packet__ptp__header.html#a77d4684093a9017850a8abddbba8dde4">message_type</a>;
<a name="l00601"></a>00601                         <span class="keywordtype">string</span> str = ss.str();
<a name="l00602"></a>00602                         SC_REPORT_ERROR(<span class="stringliteral">&quot;AMIQ_ETH&quot;</span>, str.c_str());
<a name="l00603"></a>00603                         <span class="keywordflow">break</span>;
<a name="l00604"></a>00604                 }
<a name="l00605"></a>00605                 out &lt;&lt; <span class="stringliteral">&quot;FCS: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__ptp.html#a05a43b6fa83d4473878a59b44b8be088">fcs</a>.to_uint() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; fcs_info &lt;&lt; endl;
<a name="l00606"></a>00606         }
<a name="l00607"></a>00607 
<a name="l00608"></a>00608         <span class="comment">//function for packing the Ethernet packet into an UVM generic payload class</span>
<a name="l00609"></a>00609         <span class="comment">//@return an instance of the UVM generic payload containing the packed Ethernet packet</span>
<a name="l00610"></a><a class="code" href="classamiq__eth__packet__ptp.html#a7c1a6b1207ce7e9e604e05cd883bccc0">00610</a>         <span class="keyword">virtual</span> tlm_generic_payload * <a class="code" href="classamiq__eth__packet__ptp.html#a7c1a6b1207ce7e9e604e05cd883bccc0">to_generic_payload</a>()<span class="keyword"> const </span>{
<a name="l00611"></a>00611                 tlm_generic_payload * result = (<a class="code" href="classamiq__eth__packet__ptp.html#a7c1a6b1207ce7e9e604e05cd883bccc0">amiq_eth_packet_ether_type::to_generic_payload</a>());
<a name="l00612"></a>00612                 result-&gt;set_address(<a class="code" href="amiq__eth__defines_8cpp.html#ac41972a0c368cb1f8e9118ec21a95130">AMIQ_ETH_PACKET_PTP_CODE</a>);
<a name="l00613"></a>00613 
<a name="l00614"></a>00614                 <span class="keywordflow">return</span> result;
<a name="l00615"></a>00615         }
<a name="l00616"></a>00616 };
<a name="l00617"></a>00617 
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Nov 2014 for amiq_eth by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
