<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>amiq_eth: /home/cristian.slav/work/amiq/projects/sv/amiq_eth/sc/amiq_eth_packet_arp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/cristian.slav/work/amiq/projects/sv/amiq_eth/sc/amiq_eth_packet_arp.cpp</h1><a href="amiq__eth__packet__arp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * (C) Copyright 2014 AMIQ Consulting</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00005"></a>00005 <span class="comment"> * you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment"> * You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00012"></a>00012 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment"> * limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * NAME:        amiq_eth_packet_arp.cpp</span>
<a name="l00017"></a>00017 <span class="comment"> * PROJECT:     amiq_eth</span>
<a name="l00018"></a>00018 <span class="comment"> * Description: This file declare the Ethernet Address Resolution Protocol packet.</span>
<a name="l00019"></a>00019 <span class="comment"> *                              Implementation is done based on: http://en.wikipedia.org/wiki/Address_Resolution_Protocol</span>
<a name="l00020"></a>00020 <span class="comment"> *******************************************************************************/</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef __AMIQ_ETH_PACKET_ARP</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="comment">//protection against multiple includes</span>
<a name="l00024"></a>00024 <span class="preprocessor">#define __AMIQ_ETH_PACKET_ARP</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="keyword">using namespace </span>std;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">//Ethernet Address Resolution Protocol packet</span>
<a name="l00029"></a><a class="code" href="classamiq__eth__packet__arp.html">00029</a> <span class="keyword">class </span><a class="code" href="classamiq__eth__packet__arp.html">amiq_eth_packet_arp</a>: <span class="keyword">public</span> <a class="code" href="classamiq__eth__packet__ether__type.html">amiq_eth_packet_ether_type</a> {
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00032"></a>00032 
<a name="l00033"></a>00033         <span class="comment">//Hardware type (HTYPE) - This field specifies the network protocol type.</span>
<a name="l00034"></a><a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">00034</a>         <a class="code" href="amiq__eth__types_8cpp.html#a57d82b862801f170752f3b81ae948838">amiq_eth_arp_htype</a> <a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">htype</a>;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036         <span class="comment">//Protocol type (PTYPE) - This field specifies the internetwork protocol for which the ARP request is intended.</span>
<a name="l00037"></a><a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">00037</a>         <a class="code" href="amiq__eth__types_8cpp.html#a669fee937518599516130e8fe7bc36ad">amiq_eth_arp_ptype</a> <a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">ptype</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039         <span class="comment">//Hardware length (HLEN) - Length (in octets) of a hardware address.</span>
<a name="l00040"></a><a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">00040</a>         <a class="code" href="amiq__eth__types_8cpp.html#a6b0331d6087c47be9890ff13c58c7615">amiq_eth_arp_hlen</a> <a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">hlen</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042         <span class="comment">//Protocol length (PLEN) - Length (in octets) of addresses used in the upper layer protocol. (The upper layer protocol specified in PTYPE.)</span>
<a name="l00043"></a><a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">00043</a>         <a class="code" href="amiq__eth__types_8cpp.html#a84b5cd928120d73e6a70df7e5ace5777">amiq_eth_arp_plen</a> <a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">plen</a>;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045         <span class="comment">//Operation - Specifies the operation that the sender is performing: 1 for request, 2 for reply.</span>
<a name="l00046"></a><a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">00046</a>         <a class="code" href="amiq__eth__types_8cpp.html#abc7e041795089b26a090e6d70ba77a33">amiq_eth_arp_oper</a> <a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">oper</a>;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         <span class="comment">//Sender hardware address (SHA) - Media address of the sender.</span>
<a name="l00049"></a>00049         <span class="comment">//In an ARP request this field is used to indicate the address of the host sending the request.</span>
<a name="l00050"></a>00050         <span class="comment">//In an ARP reply this field is used to indicate the address of the host that the request was looking for. (Not necessarily address of the host replying as in the case of virtual media.)</span>
<a name="l00051"></a>00051         <span class="comment">//Note that switches do not pay attention to this field, particularly in learning MAC addresses.</span>
<a name="l00052"></a><a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">00052</a>         <a class="code" href="amiq__eth__types_8cpp.html#ab974d6b9f451dd6be0fffe403faa3954">amiq_eth_arp_sha</a> <a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">sha</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="comment">//Sender protocol address (SPA) - internetwork address of the sender.</span>
<a name="l00055"></a><a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">00055</a>         <a class="code" href="amiq__eth__types_8cpp.html#a96d988e11990ba5d16bb61e9a2bb02fc">amiq_eth_arp_spa</a> <a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">spa</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="comment">//Target hardware address (THA) - Media address of the intended receiver.</span>
<a name="l00058"></a>00058         <span class="comment">//In an ARP request this field is ignored.</span>
<a name="l00059"></a>00059         <span class="comment">//In an ARP reply this field is used to indicate the address of the host that originated the ARP request.</span>
<a name="l00060"></a><a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">00060</a>         <a class="code" href="amiq__eth__types_8cpp.html#a53650a3ccfac473befae378c0f463783">amiq_eth_arp_tha</a> <a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">tha</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="comment">//Target protocol address (TPA) - internetwork address of the intended receiver.</span>
<a name="l00063"></a><a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">00063</a>         <a class="code" href="amiq__eth__types_8cpp.html#acdb620684aa5dea9eda90d536bfeb5d7">amiq_eth_arp_tpa</a> <a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">tpa</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="comment">//Frame Check Sequence</span>
<a name="l00066"></a><a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">00066</a>         <a class="code" href="amiq__eth__types_8cpp.html#adb511dc715b55539c6abdad1de981a9f">amiq_eth_fcs</a> <a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">fcs</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         <span class="comment">//pack FCS field</span>
<a name="l00069"></a>00069         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00070"></a><a class="code" href="classamiq__eth__packet__arp.html#acfbc5406f0f914c2cae4a69c3aac1efd">00070</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__arp.html#acfbc5406f0f914c2cae4a69c3aac1efd">pack_fcs</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00071"></a>00071                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">fcs</a>);
<a name="l00072"></a>00072         }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074         <span class="comment">//pack the entire Ethernet packet</span>
<a name="l00075"></a>00075         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00076"></a><a class="code" href="classamiq__eth__packet__arp.html#aa0919231910bf804ffafd9b1b771785f">00076</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__arp.html#aa0919231910bf804ffafd9b1b771785f">do_pack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00077"></a>00077                 <a class="code" href="classamiq__eth__packet__arp.html#aa0919231910bf804ffafd9b1b771785f">amiq_eth_packet_ether_type::do_pack</a>(packer);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">htype</a>);
<a name="l00080"></a>00080                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">ptype</a>);
<a name="l00081"></a>00081                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">hlen</a>);
<a name="l00082"></a>00082                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">plen</a>);
<a name="l00083"></a>00083                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">oper</a>);
<a name="l00084"></a>00084                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">sha</a>);
<a name="l00085"></a>00085                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">spa</a>);
<a name="l00086"></a>00086                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">tha</a>);
<a name="l00087"></a>00087                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">tpa</a>);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089                 <a class="code" href="classamiq__eth__packet__arp.html#acfbc5406f0f914c2cae4a69c3aac1efd">pack_fcs</a>(packer);
<a name="l00090"></a>00090         }
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="comment">//unpack the entire Ethernet packet</span>
<a name="l00093"></a>00093         <span class="comment">//@param packer - the packer used by this function</span>
<a name="l00094"></a><a class="code" href="classamiq__eth__packet__arp.html#afa8463360e8e62b24e1171093b00a798">00094</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__arp.html#afa8463360e8e62b24e1171093b00a798">do_unpack</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer) {
<a name="l00095"></a>00095                 <a class="code" href="classamiq__eth__packet__arp.html#afa8463360e8e62b24e1171093b00a798">amiq_eth_packet_ether_type::do_unpack</a>(packer);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">htype</a>);
<a name="l00098"></a>00098                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">ptype</a>);
<a name="l00099"></a>00099                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">hlen</a>);
<a name="l00100"></a>00100                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">plen</a>);
<a name="l00101"></a>00101                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">oper</a>);
<a name="l00102"></a>00102                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">sha</a>);
<a name="l00103"></a>00103                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">spa</a>);
<a name="l00104"></a>00104                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">tha</a>);
<a name="l00105"></a>00105                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">tpa</a>);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d89b85abefa5d217ee47e5de3f6a">amiq_eth_do_unpack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">fcs</a>);
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110         <span class="comment">//function for packing the Ethernet packet using only the required information for computing the FCS</span>
<a name="l00111"></a>00111         <span class="comment">//@param bitstream - the packed bit stream is placed in &quot;bitstream&quot; parameter</span>
<a name="l00112"></a><a class="code" href="classamiq__eth__packet__arp.html#aa94e012455f436aa874eb6e27e02b5fa">00112</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__arp.html#aa94e012455f436aa874eb6e27e02b5fa">do_pack_for_fcs</a>(<a class="code" href="classamiq__eth__packer.html">amiq_eth_packer</a>&amp; packer)<span class="keyword"> const </span>{
<a name="l00113"></a>00113                 <a class="code" href="classamiq__eth__packet__arp.html#aa94e012455f436aa874eb6e27e02b5fa">amiq_eth_packet_ether_type::do_pack_for_fcs</a>(packer);
<a name="l00114"></a>00114                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">htype</a>);
<a name="l00115"></a>00115                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">ptype</a>);
<a name="l00116"></a>00116                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">hlen</a>);
<a name="l00117"></a>00117                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">plen</a>);
<a name="l00118"></a>00118                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">oper</a>);
<a name="l00119"></a>00119                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">sha</a>);
<a name="l00120"></a>00120                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">spa</a>);
<a name="l00121"></a>00121                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">tha</a>);
<a name="l00122"></a>00122                 <a class="code" href="amiq__eth__packet_8cpp.html#adf55d22d1d81d2a1dfabfa588e3a4356">amiq_eth_do_pack</a>(packer, <a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">tpa</a>);
<a name="l00123"></a>00123         }
<a name="l00124"></a>00124 
<a name="l00125"></a>00125         <span class="comment">//prints the current class to a given output stream</span>
<a name="l00126"></a>00126         <span class="comment">//@param out - output stream</span>
<a name="l00127"></a><a class="code" href="classamiq__eth__packet__arp.html#abbb862d7b7abe9b1c6d49455f80f6921">00127</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classamiq__eth__packet__arp.html#abbb862d7b7abe9b1c6d49455f80f6921">do_print</a>(ostream&amp; out)<span class="keyword"> const </span>{
<a name="l00128"></a>00128                 <span class="keywordtype">string</span> fcs_info;
<a name="l00129"></a>00129                 <a class="code" href="amiq__eth__types_8cpp.html#adb511dc715b55539c6abdad1de981a9f">amiq_eth_fcs</a> correct_fcs = <a class="code" href="classamiq__eth__packet.html#a2f1fcef6ebdffa00a9b34fc7eae1be5e">get_correct_fcs</a>();
<a name="l00130"></a>00130 
<a name="l00131"></a>00131                 <span class="keywordflow">if</span> (correct_fcs == <a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">fcs</a>) {
<a name="l00132"></a>00132                         fcs_info = <span class="stringliteral">&quot;FCS is correct&quot;</span>;
<a name="l00133"></a>00133                 } <span class="keywordflow">else</span> {
<a name="l00134"></a>00134                         stringstream ss;
<a name="l00135"></a>00135                         ss &lt;&lt; <span class="stringliteral">&quot;FCS is wrong - expecting &quot;</span> &lt;&lt; std::hex &lt;&lt; correct_fcs &lt;&lt; endl;
<a name="l00136"></a>00136                         fcs_info = ss.str();
<a name="l00137"></a>00137                 };
<a name="l00138"></a>00138 
<a name="l00139"></a>00139                 <a class="code" href="classamiq__eth__packet__arp.html#abbb862d7b7abe9b1c6d49455f80f6921">amiq_eth_packet_ether_type::do_print</a>(out);
<a name="l00140"></a>00140                 out &lt;&lt; <a class="code" href="amiq__eth__defines_8cpp.html#ab1211030ba5e6916d7229fb610225935">AMIQ_ETH_FIELD_SEPARATOR</a>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142                 out &lt;&lt; <span class="stringliteral">&quot;HTYPE: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#ad68808d1acee5cca1aa1018d5178fd70">htype</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00143"></a>00143                 out &lt;&lt; <span class="stringliteral">&quot;PTYPE: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a7a92908295901d6f1a977202a5cb0af4">ptype</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00144"></a>00144                 out &lt;&lt; <span class="stringliteral">&quot;HLEN: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#ad86a177f701e6128715273f80c531254">hlen</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00145"></a>00145                 out &lt;&lt; <span class="stringliteral">&quot;PLEN: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a64075c60ab6794a6ebfe0f319a7a7ae1">plen</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00146"></a>00146                 out &lt;&lt; <span class="stringliteral">&quot;OPER: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a3e338c8338dc370a062e3548b1d5eb57">oper</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00147"></a>00147                 out &lt;&lt; <span class="stringliteral">&quot;SHA: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a5e72287f1472bf6abeebb375213a9ce1">sha</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00148"></a>00148                 out &lt;&lt; <span class="stringliteral">&quot;SPA: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#abbebf95b682baec2273e44d79cecd52b">spa</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00149"></a>00149                 out &lt;&lt; <span class="stringliteral">&quot;THA: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a68f413bad7f92628c8f5d7a4fadf04d3">tha</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00150"></a>00150                 out &lt;&lt; <span class="stringliteral">&quot;TPA: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#a5bb380a2871707d3aabe84617951fde3">tpa</a> &lt;&lt; AMIQ_ETH_FIELD_SEPARATOR;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152                 out &lt;&lt; <span class="stringliteral">&quot;FCS: &quot;</span> &lt;&lt; std::hex &lt;&lt; <a class="code" href="classamiq__eth__packet__arp.html#ac30a0aba3c6f9178fba78dcc1dd6327e">fcs</a>.to_uint() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; fcs_info &lt;&lt; endl;
<a name="l00153"></a>00153         }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155         <span class="comment">//function for packing the Ethernet packet into an UVM generic payload class</span>
<a name="l00156"></a>00156         <span class="comment">//@return an instance of the UVM generic payload containing the packed Ethernet packet</span>
<a name="l00157"></a><a class="code" href="classamiq__eth__packet__arp.html#a24f433f25d4cec2799e58a836c1411f0">00157</a>         <span class="keyword">virtual</span> tlm_generic_payload * <a class="code" href="classamiq__eth__packet__arp.html#a24f433f25d4cec2799e58a836c1411f0">to_generic_payload</a>()<span class="keyword"> const </span>{
<a name="l00158"></a>00158                 tlm_generic_payload * result = (<a class="code" href="classamiq__eth__packet__arp.html#a24f433f25d4cec2799e58a836c1411f0">amiq_eth_packet_ether_type::to_generic_payload</a>());
<a name="l00159"></a>00159                 result-&gt;set_address(<a class="code" href="amiq__eth__defines_8cpp.html#aa5e74f0f82e89c173aa162a69f2ec70d">AMIQ_ETH_PACKET_ARP_CODE</a>);
<a name="l00160"></a>00160 
<a name="l00161"></a>00161                 <span class="keywordflow">return</span> result;
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163 };
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Nov 2014 for amiq_eth by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
