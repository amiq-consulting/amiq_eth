<html><head><title>UVMC Connection Example - UVMC-based SV to SV</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 01-12-2008 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org --> 








 <!--TOP - START OF CONTENT-->
<div id=Content>


 <!--CONTENT index=0 -->
<div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle></h1>

<!--START_ND_SUMMARY index=0-->
<div class=Summary><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable>
  <!-- index=0 -->

<tr class="SMain"><td colspan=2 class=SEntry><a name="UVMC_Connection_Example-UVMC-based_SV_to_SV"  href="../../../uvmc/examples_ovm/connections/sv2sv_uvmc.sv">UVMC Connection Example - UVMC-based SV to SV</a></td></tr>
<tr class=SMain><td colspan=2 class=SWideDescription>This example shows that you can use UVMC to establish TLM connections between any two compatible components, even if they both reside in SV, further demonstrating the principle of designing components independent of their context.</td></tr>
  <!-- index=1 -->

<tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a name="This_example_is_derived_from_the_UVM_Connect_examples,so_the_diagramSummary"  href="#This_example_is_derived_from_the_UVM_Connect_examples,so_the_diagram">This example is derived from the UVM Connect examples, so the diagram</a></td><td class=SDescription>depicts components with TLM2 sockets. </td></tr></table></div></div><!--END_ND_SUMMARY-->
<div class=CBody><p>This example shows that you can use UVMC to establish TLM connections between any two compatible components, even if they both reside in SV, further demonstrating the principle of designing components independent of their context.</p><img src="../../../images/UVMC_Connections_SV2SV-native.png" width="397" height="109"></div></div></div>




 <!--CONTENT index=1 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="This_example_is_derived_from_the_UVM_Connect_examples,so_the_diagram" href="../../../uvmc/examples_ovm/connections/sv2sv_uvmc.sv">This example is derived from the UVM Connect examples, so the diagram</a></h3><div class=CBody><p>depicts components with TLM2 sockets.&nbsp; TLM2 is not available in OVM, so this OVM components use TLM1 blocking put ports.&nbsp; Whether sockets or ports/exports, the connection syntax is the same.</p><p>Connecting SV components via UVM Connect has the same overall effect as making a direct, native connection.&nbsp; UVM Connect recognizes that the two components both reside in SV and forwards the transaction to the connected SV consumer, avoiding the unnecessary overhead of converting to bits and back.</p><p>The code in this example is very similar to native connections.&nbsp; Compare this example with the <a href="../../examples/connections/sv2sv_native-sv.html#UVMC_Connection_Example-Native_SV_to_SV" class=LSection id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">UVMC Connection Example - Native SV to SV</a>, which makes the same connection without UVMC.&nbsp; You might also compare this example with the <a href="../../examples/connections/sv2sc-sv.html#UVMC_Connection_Example-SV_to_SC,SV_side" class=LSection id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">UVMC Connection Example - SV to SC, SV side</a> and <a href="../../examples/connections/sv2sc-cpp.html#UVMC_Connection_Example-SV_to_SC,SC_side" class=LSection id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">UVMC Connection Example - SV to SC, SC side</a> to see how to construct a similar testbench where the consumer is implemented in SystemC.</p><p>The <i>sv_main</i> top-level module below creates and starts the SV portion of this example.&nbsp; It does the following:</p><ul><li>Creates an instance of a <i>producer</i> component</li><li>Registers the producer&rsquo;s <i>out</i> port with UVMC using the string &ldquo;sv2sv&rdquo;.</li><li>Registers the consumer&rsquo;s <i>in</i> export with UVMC using the same string, &ldquo;sv2sv&rdquo;.&nbsp; During elaboration, UVMC will connect these ports because their lookup strings match.</li><li>Calls <i>run_test</i> to start UVM simulation</li></ul><p>TLM connections are normally made in the <i>connect_phase</i> callback of a UVM component.&nbsp; This example does not show that for sake of highlighting the UVMC connect functionality.</p>

<p align=center><a name="This_example_is_derived_from_the_UVM_Connect_examples,so_the_diagram" href="../../../uvmc/examples_ovm/connections/sv2sv_uvmc.sv">.../examples_ovm/connections/sv2sv_uvmc.sv</a></p></div>
<div class="SourceCode"><pre>

import ovm_pkg::*; 
import ovmc_pkg::*;

`include "producer.sv"
`include "consumer.sv"

module sv_main;

  producer prod = new("prod");
  consumer cons = new("cons");

  initial begin
    uvmc_tlm1 #(packet)::connect(prod.out, "sv2sv");
    uvmc_tlm1 #(packet)::connect(cons.in,  "sv2sv");
    run_test();
  end

endmodule
</pre></div>
</div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CSection>This example reviews how to make a local, native TLM connections between two UVM components in pure SystemVerilog testbench. </div></div><div class=CToolTip id="tt2"><div class=CSection>This example shows an SV producer driving an SC consumer via a TLM connection made with UVMC. </div></div><div class=CToolTip id="tt3"><div class=CSection>This example shows an SV producer driving an SC consumer via a TLM connection made with UVMC. </div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>